<template>
  <div class="lay-render">
    <div class="lay-render-container">
      <div v-for="(item, index) in contentList" :key="index">
        <!-- 富文本 -->
        <rich-text
          v-if="
            [
              'title',
              'dialogue',
              'emoticon',
              'extend',
              'link',
              'table',
              'blankRow',
              'text',
              'state',
              'colorblock',
              'quote',
              'text-type-1',
            ].includes(item.type)
          "
          :content="item.content"
        ></rich-text>
        <!-- 代码块 -->
        <code-highlight
          v-if="['code'].includes(item.type)"
          :content="item.content"
        ></code-highlight>
        <!-- 内容块 -->
        <image-card
          @clickImg="clickImg"
          v-if="['image-one'].includes(item.type)"
          :content="item.content"
        ></image-card>
      </div>
      <div style="height: 100px"></div>
    </div>
  </div>
</template>

<script>
import codeHighlight from "./components/code-highlight.vue";
import richText from "./components/richText.vue";
import imageCard from "./components/image-card.vue";
export default {
  name: "WorkspaceJsonIndex",
  props: {
    content: {
      default() {
        return {};
      },
    },
  },
  components: {
    codeHighlight,
    richText,
    imageCard,
  },
  data() {
    return {};
  },
  computed: {
    contentList() {
      return this.content;
    },
  },

  mounted() {},

  methods: {
    clickImg(src) {
      this.$emit("clickImg", src);
    },
  },
};
</script>

<style lang="scss">
.lay-render {
  width: 100%;
  height: 100%;
}
.lay-render-container {
  width: 100%;

  background: #fff;
  background-image: linear-gradient(
      90deg,
      rgba(60, 10, 30, 0.05) 3%,
      transparent 0
    ),
    linear-gradient(1turn, rgba(60, 10, 30, 0.05) 3%, transparent 0);
  background-size: 20px 20px;
  background-position: 50%;
}
.lay-render {
  ul,
  ol {
    padding-left: 20px;
  }
}

.lay-render li {
  list-style-type: "🔸";
  padding-left: 5px;
}
.lay-render ol li {
  list-style-type: decimal;
}
</style>
