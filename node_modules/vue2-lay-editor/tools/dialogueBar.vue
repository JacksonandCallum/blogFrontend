<template>
  <div class="dialogue-bar">
    <dropdown-select v-model="show" title="对话">
      <div class="dialogue-content">
        <div
          v-for="(item, index) in dialogueList"
          :key="index"
          @click="selectDialogue(item)"
          class="dialogue-content-item"
        >
          <div class="img">
            <img :src="item.leftImg" alt="" />
          </div>
          <div class="icon"></div>
          <div class="img">
            <img :src="item.rightImg" alt="" />
          </div>
        </div>
      </div>
    </dropdown-select>
  </div>
</template>

<script>
import dropdownSelect from "../components/dropdown-select";
import config from "../config/index";

let temp = (data) => {
  return `
  <div class="laytEditor-dialogue" style="padding: 15px 10px;"> 
    <div style="max-width: 500px;margin: auto;">
      <div style="display: flex; justify-content: space-between;padding-bottom:10px">
        <div
          style="
            width: 140px;
            display: flex;
            justify-content: center;
            align-items: flex-end;
          "
        >
        <div id="layEditor-richText" class="layEditor-richText-left clear-paste-style" placeholder="请输入..." style="line-height:1.8;word-break:break-all;text-align:center;letter-spacing: 1px;" ></div>
        </div>
        <div
          style="
            width: 140px;
            display: flex;
            justify-content: center;
            align-items: flex-end;
          "
        >
          <div id="layEditor-richText"  class="layEditor-richText-right clear-paste-style"  placeholder="请输入..."  style="line-height:1.8;word-break:break-all;text-align:center;letter-spacing: 1px;" ></div>
        </div>
      </div>
      <div style="display: flex; justify-content: space-between">
        <div class="laytEditor-dialogue-left" style="width: 140px; height: 140px; text-align: center;border-radius: 3px;padding:3px;background: #f5f5f5;">
          <img style="width: 100%" src="${data.leftImg}" alt="" />
        </div>
        <div class="laytEditor-dialogue-right"  style="width: 140px; height: 140px; text-align: center;border-radius: 3px;padding:3px;background: #f5f5f5;">
          <img style="width: 100%" src="${data.rightImg}" alt="" />
        </div>
      </div>
    </div>
  </div>
`;
};
export default {
  name: "WorkspaceJsonTitle",
  components: {
    dropdownSelect,
  },
  data() {
    return {
      show: false,
    };
  },
  computed: {
    dialogueList() {
      return config.dialogue;
    },
  },

  methods: {
    selectDialogue(item) {
      this.$emit("change", {
        type: "dialogue",
        content: {
          leftImg: item.leftImg,
          rightImg: item.rightImg,
          leftText: "",
          rightText: "",
          template: temp(item),
        },
      });
      this.show = false;
    },
  },
};
</script>

<style lang="scss" scoped>
.dialogue-content {
  width: 200px;
  height: 260px;
  background: #fff;
  margin-top: 10px;
  box-shadow: 0 2px 12px 0 rgba(97, 97, 97, 0.1);
  border: 1px solid #ebeef5;
  border-radius: 4px;
  cursor: pointer;
  padding: 5px 0;
  overflow: auto;
}

.dialogue-content .dialogue-content-item {
  margin: 0;
  padding: 10px;
  display: flex;
  align-items: center;
  padding: 5px 10px;
}

.dialogue-content .dialogue-content-item:hover {
  background: #f2f2f2;
}
.dialogue-content .dialogue-content-item .img {
  width: 70px;
  height: 70px;
  background: #eee;
  overflow: hidden;
}
.dialogue-content .dialogue-content-item img {
  width: 100%;
  height: 100%;
}
.dialogue-content .dialogue-content-item .icon {
  flex: 1;
  height: 5px;
  background: #eee;
  margin: 0 5px;
}

/*滚动条样式*/
.dialogue-content::-webkit-scrollbar {
  width: 5px;
}
.dialogue-content::-webkit-scrollbar-thumb {
  border-radius: 10px;
  background: rgb(224, 224, 224);
}
.dialogue-content::-webkit-scrollbar-track {
  border-radius: 0;
  background: #eee;
}
</style>
