<template>
  <div>
    <div class="layeditor-toolbar">
      <div v-if="tools.title" class="item">
        <title-bar @change="onSelect"></title-bar>
      </div>
      <div v-if="tools.text" class="item">
        <text-bar @change="onSelect"></text-bar>
      </div>
      <div v-if="tools.code" class="item">
        <code-bar @change="onSelect"></code-bar>
      </div>
      <div v-if="tools.image" class="item">
        <image-bar @change="onSelect"></image-bar>
      </div>
      <div v-if="tools.link" class="item">
        <link-bar @change="onSelect"></link-bar>
      </div>
      <div v-if="tools.emoticon" class="item">
        <emoticon-bar @change="onSelect"></emoticon-bar>
      </div>
      <div v-if="tools.extend" class="item">
        <extend-bar @change="onSelect"></extend-bar>
      </div>
      <div v-if="tools.dialogue" class="item">
        <dialogue-Bar @change="onSelect"></dialogue-Bar>
      </div>

      <div v-if="tools.fullscreen" class="item">
        <fullscreen :open="open" @fullscreen="$emit('fullscreen')"></fullscreen>
      </div>
    </div>
  </div>
</template>

<script>
import titleBar from "./titleBar";
import textBar from "./textBar";
import codeBar from "./codeBar";
import imageBar from "./imageBar";
// import quoteBar from "./quoteBar";
// import colorblockBar from "./colorblockBar";
// import stateBar from "./stateBar";
import linkBar from "./linkBar";
import dialogueBar from "./dialogueBar";
import extendBar from "./extendBar";
// import blankRowBar from "./blankRowBar";
import emoticonBar from "./emoticonBar";
import fullscreen from "./fullscreen";
import config from "../config/index";

import urils from "../utils/utils";

export default {
  name: "WorkspaceJsonToolbar",
  props: {
    open: {
      default: false,
    },
  },
  components: {
    titleBar,
    textBar,
    codeBar,
    imageBar,
    linkBar,
    dialogueBar,
    extendBar,
    emoticonBar,
    fullscreen,
  },
  data() {
    return {
      componentsList: [
        {
          name: "titleBar",
          id: "title",
        },
        {
          name: "codeBar",
          id: "code",
        },
        {
          name: "imageBar",
          id: "image",
        },
        {
          name: "quoteBar",
          id: "quote",
        },
        {
          name: "stateBar",
          id: "state",
        },
        {
          name: "linkBar",
          id: "link",
        },
        {
          name: "dialogueBar",
          id: "dialogue",
        },
        {
          name: "extendBar",
          id: "extend",
        },
        {
          name: "blankRowBar",
          id: "blankRow",
        },
        {
          name: "emoticonBar",
          id: "emoticon",
        },
        {
          name: "fullscreen",
          id: "fullscreen",
        },
      ],
      tools: {
        title: true,
        text: true,
        code: true,
        image: true,
        quote: true,
        colorblock: true,
        state: true,
        link: true,
        dialogue: true,
        extend: true,
        blankRow: true,
        emoticon: true,
        fullscreen: true,
      },
    };
  },

  mounted() {
    this.initTools();
  },
  methods: {
    initTools() {
      for (let key in config.tools) {
        this.tools[key] = config.tools[key];
      }
    },
    onSelect(data) {
      data.token = urils.createUid();
      this.$emit("change", data);
    },
  },
};
</script>

<style lang="scss" scoped>
.layeditor-toolbar {
  // height: 30px;
  display: flex;
  padding: 5px 5px;
  background: #fff;
  // flex-wrap: wrap;
}
.layeditor-toolbar .item {
  flex: 1;
  margin-right: 5px;
  margin-bottom: 5px;
}
</style>
