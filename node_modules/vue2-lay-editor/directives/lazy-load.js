export default {
  inserted: function (el, binding) {
    // 获取指令参数
    let params = binding.value;
    // 或带有定位父级的元素
    const parent = el.offsetParent;
    // 获取overflow父容器的高度
    const parentHeight = parent.clientHeight;
    let onScroll = () => {
      // 图片距离顶部的距离-滚动上去的距离 < 是否小于可视区高度
      if (el.offsetTop - parent.scrollTop < parentHeight) {
        if (!el.src) el.src = params;
      }
    };
    // 监听scroll事件
    parent.addEventListener("scroll", onScroll);
    onScroll();
  },
};
