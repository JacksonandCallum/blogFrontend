{"ast":null,"code":"const twoPoem = () => import(\"@/components/twoPoem.vue\");\nconst proTag = () => import(\"@/components/proTag\");\nconst articleList = () => import(\"@/components/articleList\");\nconst myFooter = () => import(\"@/components/myFooter.vue\");\nexport default {\n  components: {\n    twoPoem,\n    proTag,\n    articleList,\n    myFooter\n  },\n  data() {\n    return {\n      sortId: this.$route.query.sortId,\n      articles: []\n    };\n  },\n  computed: {},\n  watch: {\n    $route() {\n      this.articles.splice(0, this.articles.length);\n      this.sortId = this.$route.query.sortId;\n      this.getArticles();\n    }\n  },\n  created() {\n    this.getArticles();\n  },\n  mounted() {},\n  methods: {\n    getArticles() {\n      this.$request.get(\"/blog/selectCategoryID/\" + this.sortId).then(res => {\n        this.articles = res.data;\n        console.log(this.articles);\n        // 这里可以检查文章的 tags 字符串\n        this.articles.forEach(article => {\n          console.log(\"Article tags: \", article.tags);\n          console.log(\"Processed tags: \", this.processTags(article.tags));\n        });\n      });\n    },\n    // 处理标签，去除字符串数组的符号并去重\n    processTags(tagsString) {\n      // console.log(\"tagsString\" + tagsString)\n      // 去除字符串两端的中括号和双引号，并以逗号分割为数组\n      let cleanString = tagsString.replace(/[\\[\\]\"]/g, \"\");\n      let tagArray = cleanString.split(',').map(tag => tag.trim());\n      // 去重并过滤空标签\n      let uniqueTagsArray = Array.from(new Set(tagArray)).filter(tag => tag !== '');\n      // 将数组转换回字符串\n      return uniqueTagsArray.join(' ');\n    }\n  }\n};","map":{"version":3,"names":["twoPoem","proTag","articleList","myFooter","components","data","sortId","$route","query","articles","computed","watch","splice","length","getArticles","created","mounted","methods","$request","get","then","res","console","log","forEach","article","tags","processTags","tagsString","cleanString","replace","tagArray","split","map","tag","trim","uniqueTagsArray","Array","from","Set","filter","join"],"sources":["src/views/front/BlogSort.vue"],"sourcesContent":["<template>\r\n    <div>\r\n        <!-- 两句诗 -->\r\n        <div class=\"my-animation-slide-top\">\r\n            <twoPoem></twoPoem>\r\n        </div>\r\n\r\n        <div style=\"background: white; padding-top: 40px\" class=\"my-animation-slide-bottom\">\r\n            <!-- 标签 -->\r\n            <div class=\"sort-warp shadow-box\" v-if=\"!$common.isEmpty(articles)\">\r\n                <div v-for=\"(article, index) in articles\" :key=\"index\" :class=\"{\r\n                    isActive:\r\n                        !$common.isEmpty(article.tags)\r\n                }\">\r\n                    <proTag :info=\"processTags(article.tags)\"\r\n                        :color=\"$constant.before_color_list[Math.floor(Math.random() * 6)]\" style=\"margin: 12px\">\r\n                    </proTag>\r\n                </div>\r\n            </div>\r\n\r\n            <!-- 文章 -->\r\n            <div class=\"article-wrap\">\r\n                <articleList :articleList=\"articles\"></articleList>\r\n                <div class=\"pagination-wrap\">\r\n                    <div style=\"user-select: none\">~~到底啦~~</div>\r\n                </div>\r\n            </div>\r\n            <!-- 页脚 -->\r\n            <myFooter></myFooter>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nconst twoPoem = () => import(\"@/components/twoPoem.vue\");\r\nconst proTag = () => import(\"@/components/proTag\");\r\nconst articleList = () => import(\"@/components/articleList\");\r\nconst myFooter = () => import(\"@/components/myFooter.vue\");\r\n\r\nexport default {\r\n    components: {\r\n        twoPoem,\r\n        proTag,\r\n        articleList,\r\n        myFooter,\r\n    },\r\n\r\n    data() {\r\n        return {\r\n            sortId: this.$route.query.sortId,\r\n            articles: [],\r\n        };\r\n    },\r\n\r\n    computed: {},\r\n\r\n    watch: {\r\n        $route() {\r\n            this.articles.splice(0, this.articles.length);\r\n            this.sortId = this.$route.query.sortId;\r\n            this.getArticles();\r\n        },\r\n    },\r\n\r\n    created() {\r\n        this.getArticles();\r\n    },\r\n\r\n    mounted() { },\r\n\r\n    methods: {\r\n        getArticles() {\r\n            this.$request.get(\"/blog/selectCategoryID/\" + this.sortId).then((res) => {\r\n                this.articles = res.data;\r\n                console.log(this.articles)\r\n                // 这里可以检查文章的 tags 字符串\r\n                this.articles.forEach(article => {\r\n                    console.log(\"Article tags: \", article.tags);\r\n                    console.log(\"Processed tags: \", this.processTags(article.tags));\r\n                });\r\n            });\r\n        },\r\n        // 处理标签，去除字符串数组的符号并去重\r\n        processTags(tagsString) {\r\n            // console.log(\"tagsString\" + tagsString)\r\n            // 去除字符串两端的中括号和双引号，并以逗号分割为数组\r\n            let cleanString = tagsString.replace(/[\\[\\]\"]/g, \"\");\r\n            let tagArray = cleanString.split(',').map(tag => tag.trim());\r\n            // 去重并过滤空标签\r\n            let uniqueTagsArray = Array.from(new Set(tagArray)).filter(tag => tag !== '');\r\n            // 将数组转换回字符串\r\n            return uniqueTagsArray.join(' ');\r\n        },\r\n    },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n/* 以my-animation-开头的class */\r\n[class*=\"my-animation-\"] {\r\n    animation-duration: 1s;\r\n    animation-timing-function: ease-out;\r\n    animation-fill-mode: both;\r\n}\r\n\r\n.my-animation-slide-top {\r\n    animation-name: slide-top;\r\n}\r\n\r\n.my-animation-slide-bottom {\r\n    animation-name: slide-bottom;\r\n}\r\n\r\n.sort-warp {\r\n    width: 70%;\r\n    max-width: 780px;\r\n    margin: 0 auto;\r\n    padding: 20px;\r\n    border-radius: 10px;\r\n    display: flex;\r\n    flex-wrap: wrap;\r\n}\r\n\r\n.shadow-box {\r\n    box-shadow: 0 1px 20px -6px rgba(0, 0, 0, 0.5);\r\n    transition: all 0.3s ease;\r\n}\r\n\r\n.shadow-box:hover {\r\n    box-shadow: 0 5px 10px 5px rgba(110, 110, 110, 0.4);\r\n}\r\n\r\n.article-wrap {\r\n    width: 70%;\r\n    margin: 40px auto;\r\n    min-height: 600px;\r\n}\r\n\r\n.isActive {\r\n    animation: scale 1.5s ease-in-out infinite;\r\n}\r\n\r\n.pagination-wrap {\r\n    display: flex;\r\n    justify-content: center;\r\n    margin-top: 40px;\r\n}\r\n\r\n@media screen and (max-width: 900px) {\r\n    .sort-warp {\r\n        width: 90%;\r\n    }\r\n\r\n    .article-wrap {\r\n        width: 90%;\r\n    }\r\n}\r\n</style>\r\n"],"mappings":"AAkCA,MAAAA,OAAA,GAAAA,CAAA;AACA,MAAAC,MAAA,GAAAA,CAAA;AACA,MAAAC,WAAA,GAAAA,CAAA;AACA,MAAAC,QAAA,GAAAA,CAAA;AAEA;EACAC,UAAA;IACAJ,OAAA;IACAC,MAAA;IACAC,WAAA;IACAC;EACA;EAEAE,KAAA;IACA;MACAC,MAAA,OAAAC,MAAA,CAAAC,KAAA,CAAAF,MAAA;MACAG,QAAA;IACA;EACA;EAEAC,QAAA;EAEAC,KAAA;IACAJ,OAAA;MACA,KAAAE,QAAA,CAAAG,MAAA,SAAAH,QAAA,CAAAI,MAAA;MACA,KAAAP,MAAA,QAAAC,MAAA,CAAAC,KAAA,CAAAF,MAAA;MACA,KAAAQ,WAAA;IACA;EACA;EAEAC,QAAA;IACA,KAAAD,WAAA;EACA;EAEAE,QAAA;EAEAC,OAAA;IACAH,YAAA;MACA,KAAAI,QAAA,CAAAC,GAAA,kCAAAb,MAAA,EAAAc,IAAA,CAAAC,GAAA;QACA,KAAAZ,QAAA,GAAAY,GAAA,CAAAhB,IAAA;QACAiB,OAAA,CAAAC,GAAA,MAAAd,QAAA;QACA;QACA,KAAAA,QAAA,CAAAe,OAAA,CAAAC,OAAA;UACAH,OAAA,CAAAC,GAAA,mBAAAE,OAAA,CAAAC,IAAA;UACAJ,OAAA,CAAAC,GAAA,0BAAAI,WAAA,CAAAF,OAAA,CAAAC,IAAA;QACA;MACA;IACA;IACA;IACAC,YAAAC,UAAA;MACA;MACA;MACA,IAAAC,WAAA,GAAAD,UAAA,CAAAE,OAAA;MACA,IAAAC,QAAA,GAAAF,WAAA,CAAAG,KAAA,MAAAC,GAAA,CAAAC,GAAA,IAAAA,GAAA,CAAAC,IAAA;MACA;MACA,IAAAC,eAAA,GAAAC,KAAA,CAAAC,IAAA,KAAAC,GAAA,CAAAR,QAAA,GAAAS,MAAA,CAAAN,GAAA,IAAAA,GAAA;MACA;MACA,OAAAE,eAAA,CAAAK,IAAA;IACA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}