{"ast":null,"code":"import myFooter from '@/components/myFooter.vue';\nimport printer from '@/components/printer.vue';\nimport blogList from '@/components/blogList.vue';\nexport default {\n  components: {\n    myFooter,\n    printer,\n    blogList\n  },\n  data() {\n    return {\n      webInfo: \"学习新思想,争做新青年\",\n      url: \"https://ys.mihoyo.com/main/_nuxt/img/s1.5c125a1.png\",\n      blogList: [],\n      blogs: [],\n      topList: [],\n      showList: [],\n      lastIndex: 0,\n      topActivityList: [],\n      printerInfo: \"要么永远不踏出那一步，要么就是现在。\",\n      indexType: 1,\n      search: {\n        title: \"\"\n      }\n    };\n  },\n  mounted() {\n    this.loadBlog();\n    this.refreshTop();\n    this.loadTopActivity();\n  },\n  methods: {\n    async selectArticle() {\n      this.blogs = [];\n      await this.getBlogs();\n      this.search = {\n        title: \"\"\n      };\n      this.$nextTick(() => {\n        this.indexType = 2;\n        // $(\".announcement\").css(\"max-width\", \"780px\");\n        document.querySelector('.recent-posts').scrollIntoView({\n          behavior: \"smooth\",\n          block: \"start\",\n          inline: \"nearest\"\n        });\n      });\n    },\n    async getBlogs() {\n      await this.$request(\"/blog/selectArticle\", {\n        params: this.search\n      }).then(res => {\n        if (!this.$common.isEmpty(res.data)) {\n          this.blogs = res.data;\n          console.log(\"搜索：\", this.blogs);\n        } else {\n          this.$message.error(\"好像没有你想要的呢~\");\n        }\n      });\n    },\n    loadTopActivity() {\n      this.$request.get(\"/activity/selectTop\").then(res => {\n        this.topActivityList = res.data || [];\n      });\n    },\n    refreshTop() {\n      this.$request.get(\"/blog/selectTop\").then(res => {\n        this.topList = res.data || [];\n\n        // this.topList = this.topList.slice(0,5)\n        let i = 1;\n        this.topList.forEach(item => item.index = i++);\n        if (this.lastIndex === 10) {\n          this.lastIndex = 0;\n        }\n        this.showList = this.topList.slice(this.lastIndex, this.lastIndex + 5);\n        this.lastIndex += 5;\n      });\n    },\n    extractPlainTextFromJSON(jsonString) {\n      // 解析 JSON 字符串为 JavaScript 对象\n      var jsonArray = JSON.parse(jsonString);\n\n      // 遍历数组中的每个对象\n      for (var i = 0; i < jsonArray.length; i++) {\n        var obj = jsonArray[i];\n        // 递归处理对象\n        processObject(obj);\n      }\n\n      // 将处理后的数组转换回 JSON 字符串并返回\n      return JSON.stringify(jsonArray);\n    },\n    // 递归处理对象\n    processObject(obj) {\n      for (var key in obj) {\n        if (typeof obj[key] === 'object') {\n          processObject(obj[key]); // 递归处理子对象\n        } else if (typeof obj[key] === 'string') {\n          // 去除 HTML 标签和 CSS 样式\n          obj[key] = obj[key].replace(/<\\/?[^>]+(>|$)/g, '');\n          obj[key] = obj[key].replace(/\\\\n/g, ''); // 去除转义字符\n        }\n        // 递归处理键\n        key = key.replace(/<\\/?[^>]+(>|$)/g, '');\n      }\n    },\n    // 处理标签，去除字符串数组的符号\n    processTags(tagsString) {\n      // 去除字符串两端的中括号和双引号，并以空格分割为数组\n      return tagsString.replace(/[\\[\\]\"]/g, '');\n    },\n    // 博客\n    loadBlog() {\n      this.$request.get(\"/blog/selectAll\").then(res => {\n        this.blogList = res.data;\n        console.log(\"博客selectAll\", res.data);\n      });\n    },\n    navigation(selector) {\n      let pageId = document.querySelector(selector);\n      window.scrollTo({\n        top: pageId.offsetTop,\n        behavior: \"smooth\"\n      });\n    }\n  }\n};","map":{"version":3,"names":["myFooter","printer","blogList","components","data","webInfo","url","blogs","topList","showList","lastIndex","topActivityList","printerInfo","indexType","search","title","mounted","loadBlog","refreshTop","loadTopActivity","methods","selectArticle","getBlogs","$nextTick","document","querySelector","scrollIntoView","behavior","block","inline","$request","params","then","res","$common","isEmpty","console","log","$message","error","get","i","forEach","item","index","slice","extractPlainTextFromJSON","jsonString","jsonArray","JSON","parse","length","obj","processObject","stringify","key","replace","processTags","tagsString","navigation","selector","pageId","window","scrollTo","top","offsetTop"],"sources":["src/views/front/Home.vue"],"sourcesContent":["<template>\r\n  <div class=\"main-content\">\r\n    <el-image style=\"animation: header-effect 2s\" class=\"background-image\" v-once lazy :src=\"this.url\" fit=\"cover\">\r\n      <div slot=\"error\" class=\"image-slot background-image-error\"></div>\r\n    </el-image>\r\n    <!-- 首页文字 -->\r\n    <div class=\"signature-wall myCenter my-animation-hideToShow\">\r\n      <h1 class=\"playful\">\r\n        <span>{{ webInfo }}</span>\r\n      </h1>\r\n      <div class=\"printer\">\r\n        <printer :printerInfo=\"printerInfo\">\r\n          <template slot=\"paper\" slot-scope=\"scope\">\r\n            <h3>\r\n              {{ scope.content }}<span class=\"cursor\">|</span>\r\n            </h3>\r\n          </template>\r\n        </printer>\r\n      </div>\r\n      <div id=\"bannerWave1\"></div>\r\n      <div id=\"bannerWave2\"></div>\r\n      <i class=\"el-icon-arrow-down\" @click=\"navigation('.page-container-wrap')\"></i>\r\n    </div>\r\n    <div class=\"page-container-wrap\">\r\n      <div class=\"page-container\">\r\n        <!-- 文章列表（左侧） -->\r\n        <div class=\"recent-posts\">\r\n          <!-- （未搜索时的博客列表） -->\r\n          <div v-show=\"indexType === 1\">\r\n            <div style=\"margin-top: 40px;margin-left: 150px;\">\r\n              <div class=\"recent-post-item shadow-box background-opacity\" v-for=\"blog in blogList\" :key=\"blog.id\"\r\n                @click=\"$router.push('/front/BlogDetail?blogId=' + blog.id)\">\r\n                <!-- 图片 -->\r\n                <div class=\"recent-post-item-image\"\r\n                  :class=\"{ leftImage: blog.id % 2 !== 0, rightImage: blog.id % 2 === 0 }\">\r\n                  <el-image class=\"my-el-image\" v-once lazy :src=\"blog.cover\" fit=\"cover\">\r\n                    <div slot=\"error\" class=\"image-slot myCenter\" style=\"background-color: #39c5bb;\">\r\n                      <div class=\"error-text\">\r\n                        <div>遇事不决，可问春风</div>\r\n                      </div>\r\n                    </div>\r\n                  </el-image>\r\n                </div>\r\n                <!-- 内容 -->\r\n                <div class=\"recent-post-item-post\"\r\n                  :class=\"{ leftImage: blog.id % 2 === 0, rightImage: blog.id % 2 !== 0 }\">\r\n                  <!-- 时间 -->\r\n                  <div class=\"post-meta\">\r\n                    <svg viewBox=\"0 0 1024 1024\" width=\"14\" height=\"14\" style=\"vertical-align: -2px;\">\r\n                      <path d=\"M512 512m-512 0a512 512 0 1 0 1024 0 512 512 0 1 0-1024 0Z\" fill=\"#409EFF\"></path>\r\n                      <path\r\n                        d=\"M654.222222 256c-17.066667 0-28.444444 11.377778-28.444444 28.444444v56.888889c0 17.066667 11.377778 28.444444 28.444444 28.444445s28.444444-11.377778 28.444445-28.444445v-56.888889c0-17.066667-11.377778-28.444444-28.444445-28.444444zM369.777778 256c-17.066667 0-28.444444 11.377778-28.444445 28.444444v56.888889c0 17.066667 11.377778 28.444444 28.444445 28.444445s28.444444-11.377778 28.444444-28.444445v-56.888889c0-17.066667-11.377778-28.444444-28.444444-28.444444z\"\r\n                        fill=\"#FFFFFF\"></path>\r\n                      <path\r\n                        d=\"M725.333333 312.888889H711.111111v28.444444c0 31.288889-25.6 56.888889-56.888889 56.888889s-56.888889-25.6-56.888889-56.888889v-28.444444h-170.666666v28.444444c0 31.288889-25.6 56.888889-56.888889 56.888889s-56.888889-25.6-56.888889-56.888889v-28.444444h-14.222222c-22.755556 0-42.666667 19.911111-42.666667 42.666667v341.333333c0 22.755556 19.911111 42.666667 42.666667 42.666667h426.666666c22.755556 0 42.666667-19.911111 42.666667-42.666667v-341.333333c0-22.755556-19.911111-42.666667-42.666667-42.666667zM426.666667 654.222222h-56.888889c-17.066667 0-28.444444-11.377778-28.444445-28.444444s11.377778-28.444444 28.444445-28.444445h56.888889c17.066667 0 28.444444 11.377778 28.444444 28.444445s-11.377778 28.444444-28.444444 28.444444z m227.555555 0h-56.888889c-17.066667 0-28.444444-11.377778-28.444444-28.444444s11.377778-28.444444 28.444444-28.444445h56.888889c17.066667 0 28.444444 11.377778 28.444445 28.444445s-11.377778 28.444444-28.444445 28.444444z m0-113.777778h-56.888889c-17.066667 0-28.444444-11.377778-28.444444-28.444444s11.377778-28.444444 28.444444-28.444444h56.888889c17.066667 0 28.444444 11.377778 28.444445 28.444444s-11.377778 28.444444-28.444445 28.444444z\"\r\n                        fill=\"#FFFFFF\"></path>\r\n                    </svg>\r\n                    发布于 {{ blog.date }}\r\n                  </div>\r\n                  <!-- 标题 -->\r\n                  <div style=\"margin-top: 20px;margin-bottom: 20px;\">\r\n                    <el-tooltip placement=\"top\" effect=\"light\">\r\n                      <div slot=\"content\">{{ blog.title }}</div>\r\n                      <h3>{{ blog.title }}</h3>\r\n                    </el-tooltip>\r\n                  </div>\r\n                  <!-- 博主 热度 点赞 -->\r\n                  <div class=\"post-meta\" style=\"margin-bottom: 15px\">\r\n                    <span>\r\n                      <svg viewBox=\"0 0 1024 1024\" width=\"14\" height=\"14\" style=\"vertical-align: -2px;\">\r\n                        <path\r\n                          d=\"M113.834667 291.84v449.194667a29.013333 29.013333 0 0 0 28.842666 29.013333h252.928v90.453333l160.597334-90.453333h252.928a29.013333 29.013333 0 0 0 29.013333-29.013333V291.84a29.013333 29.013333 0 0 0-29.013333-29.013333h-665.6a29.013333 29.013333 0 0 0-29.696 29.013333z\"\r\n                          fill=\"#FFDEAD\"></path>\r\n                        <path\r\n                          d=\"M809.130667 262.826667h-665.6a29.013333 29.013333 0 0 0-28.842667 29.013333v40.106667a29.013333 29.013333 0 0 1 28.842667-29.013334h665.6a29.013333 29.013333 0 0 1 29.013333 29.013334V291.84a29.013333 29.013333 0 0 0-29.013333-29.013333z\"\r\n                          fill=\"#FFF3DB\"></path>\r\n                        <path\r\n                          d=\"M556.202667 770.048h252.928a29.013333 29.013333 0 0 0 29.013333-29.013333V362.837333s-59.733333 392.533333-724.309333 314.709334v63.488a29.013333 29.013333 0 0 0 28.842666 29.013333h253.098667v90.453333z\"\r\n                          fill=\"#F2C182\"></path>\r\n                        <path\r\n                          d=\"M619.008 632.32l101.888-35.157333-131.754667-76.117334 29.866667 111.274667zM891.904 148.992a61.44 61.44 0 0 0-84.138667 22.528l-19.968 34.133333 106.666667 61.610667 19.968-34.133333a61.781333 61.781333 0 0 0-22.528-84.138667z\"\r\n                          fill=\"#69BAF9\"></path>\r\n                        <path d=\"M775.338667 198.775467l131.669333 76.032-186.026667 322.218666-131.6864-76.032z\"\r\n                          fill=\"#F7FBFF\"></path>\r\n                        <path\r\n                          d=\"M775.168 198.826667l-5.290667 9.216 59.221334 34.133333a34.133333 34.133333 0 0 1 12.458666 46.592l-139.946666 242.346667a34.133333 34.133333 0 0 1-46.762667 12.629333l-59.050667-34.133333-6.656 11.434666 88.746667 51.2L720.896 597.333333l186.026667-322.56z\"\r\n                          fill=\"#D8E3F0\"></path>\r\n                        <path\r\n                          d=\"M616.448 622.592l2.56 9.728 101.888-35.157333-44.885333-25.941334-59.562667 51.370667zM891.904 148.992c-1.024 0-2.218667-0.853333-3.242667-1.536A61.610667 61.610667 0 0 1 887.466667 204.8l-19.968 34.133333-73.728-42.496-5.12 8.704 106.666666 61.610667 19.968-34.133333a61.781333 61.781333 0 0 0-23.381333-83.626667z\"\r\n                          fill=\"#599ED4\"></path>\r\n                        <path\r\n                          d=\"M265.898667 417.621333H494.933333a17.066667 17.066667 0 1 0 0-34.133333H265.898667a17.066667 17.066667 0 1 0 0 34.133333zM265.898667 533.504H494.933333a17.066667 17.066667 0 0 0 0-34.133333H265.898667a17.066667 17.066667 0 0 0 0 34.133333z\"\r\n                          fill=\"#3D3D63\"></path>\r\n                        <path\r\n                          d=\"M959.488 354.645333a99.84 99.84 0 0 0-23.722667-127.488 78.677333 78.677333 0 0 0-142.848-64.170666l-11.605333 20.138666a17.066667 17.066667 0 0 0-20.821333 7.168l-32.085334 55.466667H142.677333a46.250667 46.250667 0 0 0-45.909333 46.08v449.194667a46.08 46.08 0 0 0 45.909333 46.08h236.032v73.386666a17.066667 17.066667 0 0 0 8.362667 14.848 17.066667 17.066667 0 0 0 8.704 2.218667 17.066667 17.066667 0 0 0 8.362667-2.218667l156.672-88.234666h248.32a46.08 46.08 0 0 0 46.08-46.08V398.677333L921.6 283.306667a17.066667 17.066667 0 0 0-4.266667-21.504l1.877334-3.413334a65.365333 65.365333 0 0 1 10.410666 79.189334l-53.077333 91.989333a56.832 56.832 0 0 0 20.821333 77.653333 17.066667 17.066667 0 0 0 24.234667-6.314666 17.066667 17.066667 0 0 0-6.997333-23.04 23.04 23.04 0 0 1-8.362667-31.061334z m-138.410667 386.389334a11.946667 11.946667 0 0 1-11.946666 11.946666H556.202667a17.066667 17.066667 0 0 0-8.362667 2.218667l-134.997333 76.117333v-61.269333a17.066667 17.066667 0 0 0-17.066667-17.066667H142.677333a11.946667 11.946667 0 0 1-11.776-11.946666V291.84a11.946667 11.946667 0 0 1 11.776-11.946667h565.930667L574.464 512a17.066667 17.066667 0 0 0-1.706667 12.970667L597.333333 615.253333H265.898667a17.066667 17.066667 0 1 0 0 34.133334h352.938666a17.066667 17.066667 0 0 0 5.802667 0l102.4-35.328a17.066667 17.066667 0 0 0 9.216-7.509334l85.333333-147.968z m-204.8-184.661334l63.829334 36.864-49.322667 17.066667z m206.848-170.666666v1.365333l-108.373333 186.709333-102.4-59.050666L781.482667 221.866667l102.4 59.050666z m76.458667-161.28L887.466667 244.224l-76.970667-44.373333 11.264-19.797334a44.544 44.544 0 1 1 77.141333 44.544z\"\r\n                          fill=\"#3D3D63\"></path>\r\n                      </svg> {{ blog.userName }}\r\n                    </span>\r\n                    <span>\r\n                      <svg viewBox=\"0 0 1024 1024\" width=\"14\" height=\"14\" style=\"vertical-align: -2px;\">\r\n                        <path d=\"M14.656 512a497.344 497.344 0 1 0 994.688 0 497.344 497.344 0 1 0-994.688 0z\"\r\n                          fill=\"#FF0000\">\r\n                        </path>\r\n                        <path\r\n                          d=\"M374.976 872.64c-48.299-100.032-22.592-157.44 14.421-211.37 40.448-58.966 51.115-117.611 51.115-117.611s31.659 41.386 19.115 106.005c56.149-62.72 66.816-162.133 58.325-200.405 127.317 88.746 181.59 281.002 108.181 423.381C1016 652.501 723.093 323.2 672.277 285.867c16.939 37.333 20.054 100.032-14.101 130.474-58.027-219.84-201.664-265.002-201.664-265.002 16.96 113.536-61.781 237.397-137.344 330.24-2.816-45.163-5.632-76.544-29.483-119.808-5.333 82.176-68.373 149.269-85.29 231.445-22.912 111.637 17.237 193.173 170.581 279.424z\"\r\n                          fill=\"#FFFFFF\"></path>\r\n                      </svg> {{ blog.readCount }} 热度\r\n                    </span>\r\n                    <span>\r\n                      <svg viewBox=\"0 0 1024 1024\" width=\"14\" height=\"14\" style=\"vertical-align: -2px;\">\r\n                        <path\r\n                          d=\"M510.671749 348.792894S340.102978 48.827055 134.243447 254.685563C-97.636714 486.565724 510.671749 913.435858 510.671749 913.435858s616.107079-419.070494 376.428301-658.749272c-194.095603-194.096626-376.428302 94.106308-376.428301 94.106308z\"\r\n                          fill=\"#FF713C\"></path>\r\n                        <path\r\n                          d=\"M510.666632 929.674705c-3.267417 0-6.534833-0.983397-9.326413-2.950192-16.924461-11.872399-414.71121-293.557896-435.220312-529.448394-5.170766-59.482743 13.879102-111.319341 56.643068-154.075121 51.043536-51.043536 104.911398-76.930113 160.095231-76.930114 112.524796 0 196.878996 106.48115 228.475622 153.195078 33.611515-45.214784 122.406864-148.20646 234.04343-148.20646 53.930283 0 105.46603 24.205285 153.210428 71.941496 45.063335 45.063335 64.954361 99.200326 59.133795 160.920016C935.306982 641.685641 536.758893 915.327952 519.80271 926.859589a16.205077 16.205077 0 0 1-9.136078 2.815116zM282.857183 198.75574c-46.25344 0-92.396363 22.682605-137.127124 67.413365-36.149315 36.157501-51.614541 78.120218-47.25321 128.291898 17.575284 202.089671 352.199481 455.119525 412.332023 499.049037 60.434417-42.86732 395.406538-289.147446 414.567947-492.458945 4.933359-52.344159-11.341303-96.465029-49.759288-134.88199-41.431621-41.423435-85.24243-62.424748-130.242319-62.424748-122.041544 0-220.005716 152.203494-220.989114 153.742547-3.045359 4.806469-8.53335 7.883551-14.101159 7.534603a16.257266 16.257266 0 0 1-13.736863-8.184403c-0.902556-1.587148-91.569532-158.081365-213.690893-158.081364z\"\r\n                          fill=\"#885F44\"></path>\r\n                      </svg> {{ blog.likesCount }} 点赞\r\n                    </span>\r\n                  </div>\r\n                  <!-- 描述 -->\r\n                  <div class=\"recent-post-desc\">\r\n                    {{ extractPlainText(blog.content) }}\r\n                  </div>\r\n                  <!-- 分类 标签 -->\r\n                  <div class=\"sort-label\">\r\n                    <span style=\"margin-right: 12px\">\r\n                      <svg viewBox=\"0 0 1024 1024\" width=\"15\" height=\"15\" style=\"vertical-align: -3px;\">\r\n                        <path\r\n                          d=\"M179.2 153.6m89.6 0l588.8 0q89.6 0 89.6 89.6l0 486.4q0 89.6-89.6 89.6l-588.8 0q-89.6 0-89.6-89.6l0-486.4q0-89.6 89.6-89.6Z\"\r\n                          fill=\"#FF9C55\"></path>\r\n                        <path\r\n                          d=\"M25.6 193.4208A91.0208 91.0208 0 0 1 116.6208 102.4H382.592a91.0208 91.0208 0 0 1 87.5008 65.9712l24.5504 85.7216h412.7488A91.0208 91.0208 0 0 1 998.4 345.1392v485.4528A91.0208 91.0208 0 0 1 907.3792 921.6H116.608A91.0208 91.0208 0 0 1 25.6 830.5792V193.408z\"\r\n                          fill=\"#FFD977\"></path>\r\n                        <path\r\n                          d=\"M128 665.6m25.6 0l76.8 0q25.6 0 25.6 25.6l0 0q0 25.6-25.6 25.6l-76.8 0q-25.6 0-25.6-25.6l0 0q0-25.6 25.6-25.6Z\"\r\n                          fill=\"#FFF1C9\"></path>\r\n                        <path\r\n                          d=\"M128 768m25.6 0l179.2 0q25.6 0 25.6 25.6l0 0q0 25.6-25.6 25.6l-179.2 0q-25.6 0-25.6-25.6l0 0q0-25.6 25.6-25.6Z\"\r\n                          fill=\"#FFF1C9\"></path>\r\n                        <path\r\n                          d=\"M128 486.4m51.2 0l0 0q51.2 0 51.2 51.2l0 0q0 51.2-51.2 51.2l0 0q-51.2 0-51.2-51.2l0 0q0-51.2 51.2-51.2Z\"\r\n                          fill=\"#FFA86A\"></path>\r\n                      </svg> {{ blog.categoryName }}\r\n                    </span>\r\n                    <!-- v-for=\"(tag, index) in processTags(blog.tags)\" :key=\"index\" -->\r\n                    <span>\r\n                      <svg viewBox=\"0 0 1024 1024\" width=\"15\" height=\"15\" style=\"vertical-align: -3px;\">\r\n                        <path\r\n                          d=\"M905.0112 560.4352l-342.784 342.784c-56.7808 56.7808-148.7872 56.7808-205.568 0l-231.5776-231.5776c-56.7808-56.7808-56.7808-148.7872 0-205.568l342.9376-342.9376a114.8928 114.8928 0 0 1 84.224-33.5872l266.3936 7.2192c60.7744 1.6384 109.7216 50.3808 111.5648 111.1552l8.2944 267.8272c1.024 31.6928-11.1104 62.3104-33.4848 84.6848z\"\r\n                          fill=\"#8C7BFD\"></path>\r\n                        <path\r\n                          d=\"M675.2256 491.4688c-82.176 0-149.0432-66.8672-149.0432-149.0432s66.8672-149.0432 149.0432-149.0432 149.0432 66.8672 149.0432 149.0432-66.8672 149.0432-149.0432 149.0432z m0-192.2048c-23.808 0-43.2128 19.3536-43.2128 43.2128 0 23.808 19.3536 43.2128 43.2128 43.2128 23.808 0 43.2128-19.3536 43.2128-43.2128s-19.4048-43.2128-43.2128-43.2128z\"\r\n                          fill=\"#FFE37B\"></path>\r\n                      </svg> {{ processTags(blog.tags) }}\r\n                    </span>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div class=\"pagination-wrap1\">\r\n                <div style=\"user-select: none\">\r\n                  ~~到底啦~~\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <!-- （搜索后的博客列表） -->\r\n          <div v-show=\"indexType === 2\">\r\n            <blogList :blogs=\"blogs\"></blogList>\r\n          </div>\r\n        </div>\r\n\r\n        <!-- 右侧 -->\r\n        <div class=\"aside-content\">\r\n          <div class=\"card shadow-box background-opacity wow\" style=\"animation: hideToShow 1s ease-in-out\">\r\n            <div style=\"margin-bottom: 10px;\">欢迎您！😊</div>\r\n            <a href=\"/front/person\" style=\"color: #000;\">\r\n              <div>写下博客，记录美好的一天</div>\r\n            </a>\r\n          </div>\r\n          <!-- 搜索 -->\r\n          <div style=\"padding: 15px;border-radius: 10px;margin-top: 30px;animation: hideToShow 1s ease-in-out\"\r\n            class=\"shadow-box background-opacity wow\">\r\n            <div style=\"color: #39c5bb;font-size: 20px;font-weight: bold;margin-bottom: 10px\">\r\n              搜索\r\n            </div>\r\n            <div style=\"display: flex\">\r\n              <input class=\"ais-SearchBox-input\" type=\"text\" v-model=\"search.title\" placeholder=\"搜索文章\" maxlength=\"32\">\r\n              <div class=\"ais-SearchBox-submit\" @click=\"selectArticle()\">\r\n                <svg style=\"margin-top: 3.5px;margin-left: 18px\" viewBox=\"0 0 1024 1024\" width=\"20\" height=\"20\">\r\n                  <path\r\n                    d=\"M51.2 508.8c0 256.8 208 464.8 464.8 464.8s464.8-208 464.8-464.8-208-464.8-464.8-464.8-464.8 208-464.8 464.8z\"\r\n                    fill=\"#51C492\"></path>\r\n                  <path\r\n                    d=\"M772.8 718.4c48-58.4 76.8-132.8 76.8-213.6 0-186.4-151.2-337.6-337.6-337.6-186.4 0-337.6 151.2-337.6 337.6 0 186.4 151.2 337.6 337.6 337.6 81.6 0 156-28.8 213.6-76.8L856 896l47.2-47.2-130.4-130.4zM512 776c-149.6 0-270.4-121.6-270.4-271.2S363.2 233.6 512 233.6c149.6 0 271.2 121.6 271.2 271.2C782.4 654.4 660.8 776 512 776z\"\r\n                    fill=\"#FFFFFF\"></path>\r\n                </svg>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <!-- 文章榜单 -->\r\n          <div class=\"card shadow-box background-opacity wow\" style=\"margin-top: 30px;\">\r\n            <div style=\"display: flex;align-items: center;padding-bottom: 10px;border-bottom: 1px solid #ddd;\">\r\n              <div style=\"font-size: 20px;flex: 1;\">文章榜单</div>\r\n              <div style=\"font-size: 12px;color: #666;cursor: pointer;\" @click=\"refreshTop\"><i\r\n                  class=\"el-icon-refresh\"></i>换一换\r\n              </div>\r\n            </div>\r\n            <div>\r\n              <div v-for=\"(item, index) in showList\" :key=\"item.id\"\r\n                style=\"margin: 15px 0;white-space: nowrap;overflow: hidden;text-overflow: ellipsis;\">\r\n                <a :href=\"'/front/BlogDetail?blogId=' + item.id\">\r\n                  <div class=\"recommend-title\">\r\n                    <span style=\"width: 18px;display: inline-block;text-align: right;margin-right: 10px;\">\r\n                      <span style=\"color: orangered;\" v-if=\"item.index === 1\">{{ item.index }}</span>\r\n                      <span style=\"color: goldenrod;\" v-else-if=\"item.index === 2\">{{ item.index }}</span>\r\n                      <span style=\"color: dodgerblue;\" v-else-if=\"item.index === 3\">{{ item.index }}</span>\r\n                    </span>\r\n                    <span class=\"title\" style=\"color: #666;margin-left: 10px;\">{{ item.title }}</span>\r\n                  </div>\r\n                </a>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <!-- 热门活动 -->\r\n          <div v-show=\"indexType === 1\">\r\n            <div class=\"card shadow-box background-opacity wow\" style=\"margin-top: 30px;\">\r\n              <div style=\"display: flex;align-items: center;padding-bottom: 10px;border-bottom: 1px solid #ddd;\">\r\n                <div style=\"font-size: 20px;flex: 1;\">热门活动</div>\r\n              </div>\r\n              <div>\r\n                <div v-for=\"item in topActivityList\" :key=\"item.id\" style=\"margin-bottom: 10px;cursor: pointer;\">\r\n                  <!-- href=\"/fornt/activityDetail?activityId=\" +item.id   target=\"_blank\"-->\r\n                  <a>\r\n                    <img :src=\"item.cover\" :alt=\"item.name\" :title=\"item.name\" style=\"width: 100%;border-radius: 10px;\">\r\n                  </a>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <!-- 页脚 -->\r\n    <div style=\"background: white;\">\r\n      <myFooter></myFooter>\r\n    </div>\r\n  </div>\r\n\r\n</template>\r\n\r\n<script>\r\nimport myFooter from '@/components/myFooter.vue'\r\nimport printer from '@/components/printer.vue'\r\nimport blogList from '@/components/blogList.vue'\r\n\r\nexport default {\r\n  components: {\r\n    myFooter,\r\n    printer,\r\n    blogList\r\n  },\r\n  data() {\r\n    return {\r\n      webInfo: \"学习新思想,争做新青年\",\r\n      url: \"https://ys.mihoyo.com/main/_nuxt/img/s1.5c125a1.png\",\r\n      blogList: [],\r\n      blogs: [],\r\n      topList: [],\r\n      showList: [],\r\n      lastIndex: 0,\r\n      topActivityList: [],\r\n      printerInfo: \"要么永远不踏出那一步，要么就是现在。\",\r\n      indexType: 1,\r\n      search: {\r\n        title: \"\",\r\n      }\r\n    }\r\n  },\r\n  mounted() {\r\n    this.loadBlog()\r\n    this.refreshTop()\r\n    this.loadTopActivity()\r\n  },\r\n  methods: {\r\n    async selectArticle() {\r\n      this.blogs = []\r\n      await this.getBlogs();\r\n      this.search = {\r\n        title: \"\",\r\n      }\r\n      this.$nextTick(() => {\r\n        this.indexType = 2;\r\n        // $(\".announcement\").css(\"max-width\", \"780px\");\r\n        document.querySelector('.recent-posts').scrollIntoView({\r\n          behavior: \"smooth\",\r\n          block: \"start\",\r\n          inline: \"nearest\"\r\n        });\r\n      });\r\n    },\r\n\r\n    async getBlogs() {\r\n      await this.$request(\"/blog/selectArticle\", { params: this.search }).then(res => {\r\n        if (!this.$common.isEmpty(res.data)) {\r\n          this.blogs = res.data\r\n          console.log(\"搜索：\", this.blogs)\r\n        } else {\r\n          this.$message.error(\"好像没有你想要的呢~\")\r\n        }\r\n      })\r\n    },\r\n\r\n    loadTopActivity() {\r\n      this.$request.get(\"/activity/selectTop\").then(res => {\r\n        this.topActivityList = res.data || []\r\n      })\r\n    },\r\n    refreshTop() {\r\n      this.$request.get(\"/blog/selectTop\").then(res => {\r\n        this.topList = res.data || []\r\n\r\n        // this.topList = this.topList.slice(0,5)\r\n        let i = 1;\r\n        this.topList.forEach(item => item.index = i++)\r\n\r\n        if (this.lastIndex === 10) {\r\n          this.lastIndex = 0\r\n        }\r\n        this.showList = this.topList.slice(this.lastIndex, this.lastIndex + 5)\r\n        this.lastIndex += 5\r\n      })\r\n    },\r\n    extractPlainTextFromJSON(jsonString) {\r\n      // 解析 JSON 字符串为 JavaScript 对象\r\n      var jsonArray = JSON.parse(jsonString);\r\n\r\n      // 遍历数组中的每个对象\r\n      for (var i = 0; i < jsonArray.length; i++) {\r\n        var obj = jsonArray[i];\r\n        // 递归处理对象\r\n        processObject(obj);\r\n      }\r\n\r\n      // 将处理后的数组转换回 JSON 字符串并返回\r\n      return JSON.stringify(jsonArray);\r\n    },\r\n    // 递归处理对象\r\n    processObject(obj) {\r\n      for (var key in obj) {\r\n        if (typeof obj[key] === 'object') {\r\n          processObject(obj[key]); // 递归处理子对象\r\n        } else if (typeof obj[key] === 'string') {\r\n          // 去除 HTML 标签和 CSS 样式\r\n          obj[key] = obj[key].replace(/<\\/?[^>]+(>|$)/g, '');\r\n          obj[key] = obj[key].replace(/\\\\n/g, ''); // 去除转义字符\r\n        }\r\n        // 递归处理键\r\n        key = key.replace(/<\\/?[^>]+(>|$)/g, '');\r\n      }\r\n    },\r\n    // 处理标签，去除字符串数组的符号\r\n    processTags(tagsString) {\r\n      // 去除字符串两端的中括号和双引号，并以空格分割为数组\r\n      return tagsString.replace(/[\\[\\]\"]/g, '');\r\n    },\r\n    // 博客\r\n    loadBlog() {\r\n      this.$request.get(\"/blog/selectAll\").then(res => {\r\n        this.blogList = res.data;\r\n        console.log(\"博客selectAll\", res.data)\r\n      })\r\n    },\r\n    navigation(selector) {\r\n      let pageId = document.querySelector(selector);\r\n      window.scrollTo({\r\n        top: pageId.offsetTop,\r\n        behavior: \"smooth\"\r\n      });\r\n    },\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n/* 图片 */\r\n.background-image {\r\n  width: 100vw;\r\n  height: 50vh;\r\n  /* 固定位置，不随滚动条滚动 */\r\n  position: fixed;\r\n  z-index: -1;\r\n}\r\n\r\n.background-image::before {\r\n  position: absolute;\r\n  width: 100%;\r\n  height: 100%;\r\n  background-color: rgba(0, 0, 0, .2);\r\n  content: '';\r\n}\r\n\r\n.background-image-error {\r\n  background-color: #39c5bb;\r\n  width: 100vw;\r\n  height: 50vh;\r\n  /* 固定位置，不随滚动条滚动 */\r\n  position: fixed;\r\n  z-index: -1;\r\n}\r\n\r\n.signature-wall {\r\n  /* 向下排列 */\r\n  display: flex;\r\n  flex-direction: column;\r\n  position: relative;\r\n  user-select: none;\r\n  height: 50vh;\r\n  overflow: hidden;\r\n}\r\n\r\n/* 居中 */\r\n.myCenter {\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n}\r\n\r\n.error-text {\r\n  font-size: 20px;\r\n  line-height: 1.8;\r\n  letter-spacing: 8px;\r\n  color: white;\r\n}\r\n\r\n/* 以my-animation-开头的class */\r\n[class*=my-animation-] {\r\n  animation-duration: 1s;\r\n  animation-timing-function: ease-out;\r\n  animation-fill-mode: both;\r\n}\r\n\r\n/* 显示 */\r\n@keyframes hideToShow {\r\n  from {\r\n    opacity: 0;\r\n  }\r\n\r\n  to {\r\n    opacity: 1;\r\n  }\r\n}\r\n\r\n.my-animation-hideToShow {\r\n  animation-name: hideToShow\r\n}\r\n\r\n.playful {\r\n  margin-bottom: 30px;\r\n  color: rgb(255, 255, 255);\r\n  font-size: 40px;\r\n}\r\n\r\n.printer {\r\n  cursor: pointer;\r\n  color: white;\r\n  background: rgba(0, 0, 0, 0.5);\r\n  border-radius: 10px;\r\n  padding-left: 10px;\r\n  padding-right: 10px;\r\n  height: 60px;\r\n  line-height: 60px;\r\n}\r\n\r\n/* 光标 */\r\n.cursor {\r\n  margin-left: 1px;\r\n  animation: hideToShow 0.7s infinite;\r\n  font-weight: 200;\r\n}\r\n\r\n/* 背景位置移动 */\r\n@keyframes gradientBG {\r\n  0% {\r\n    background-position: 0 50%;\r\n  }\r\n\r\n  50% {\r\n    background-position: 100% 50%;\r\n  }\r\n\r\n  100% {\r\n    background-position: 0 50%;\r\n  }\r\n}\r\n\r\n#bannerWave1 {\r\n  height: 84px;\r\n  background: url('/src/assets/imgs/bannerwave1.png');\r\n  position: absolute;\r\n  width: 200%;\r\n  bottom: 0;\r\n  z-index: 10;\r\n  animation: gradientBG 120s linear infinite;\r\n}\r\n\r\n#bannerWave2 {\r\n  height: 84px;\r\n  background: url('/src/assets/imgs/bannerwave1.png');\r\n  position: absolute;\r\n  width: 400%;\r\n  bottom: 0;\r\n  z-index: 5;\r\n  animation: gradientBG 120s linear infinite;\r\n}\r\n\r\n.el-icon-arrow-down {\r\n  font-size: 40px;\r\n  font-weight: bold;\r\n  color: white;\r\n  position: absolute;\r\n  bottom: 60px;\r\n  animation: my-shake 1.5s ease-out infinite;\r\n  z-index: 15;\r\n  cursor: pointer;\r\n}\r\n\r\n.page-container-wrap {\r\n  background: rgb(255, 255, 255);\r\n  position: relative;\r\n  padding: 5px;\r\n}\r\n\r\n.page-container {\r\n  display: flex;\r\n  /* justify-content: center; */\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  width: 90%;\r\n  padding: 0 20px 40px 20px;\r\n  margin: 0 auto;\r\n  flex-direction: row;\r\n  background-color: rgb(255, 255, 255);\r\n  border-radius: 10px;\r\n}\r\n\r\n.recent-posts {\r\n  width: 70%;\r\n}\r\n\r\n/* 以my-animation-开头的class */\r\n[class*=my-animation-] {\r\n  animation-duration: 1s;\r\n  animation-timing-function: ease-out;\r\n  animation-fill-mode: both;\r\n}\r\n\r\n.my-animation-hideToShow {\r\n  animation-name: hideToShow\r\n}\r\n\r\n.recent-post-item:not(:last-child) {\r\n  margin-bottom: 40px;\r\n}\r\n\r\n.recent-post-item {\r\n  height: 300px;\r\n  width: 780px;\r\n  /* margin-left: 150px; */\r\n  position: relative;\r\n  display: flex;\r\n  flex-direction: row;\r\n  user-select: none;\r\n  cursor: pointer;\r\n  overflow: hidden;\r\n  border-radius: 10px;\r\n  animation: hideToShow 1s ease-in-out;\r\n}\r\n\r\n.shadow-box {\r\n  box-shadow: 0 1px 20px -6px rgba(0, 0, 0, 0.5);\r\n  transition: all 0.3s ease;\r\n}\r\n\r\n.shadow-box:hover {\r\n  box-shadow: 0 5px 10px 5px rgba(110, 110, 110, 0.4);\r\n}\r\n\r\n/* 模块化背景色及透明度 */\r\n.background-opacity {\r\n  background: white;\r\n  opacity: 0.88;\r\n}\r\n\r\n.recent-post-item-image {\r\n  width: 50%;\r\n  height: 100%;\r\n}\r\n\r\n.recent-post-item-image img.el-image__inner {\r\n  transition: all 1s;\r\n}\r\n\r\n.recent-post-item-image img.el-image__inner:hover {\r\n  transform: scale(1.2);\r\n}\r\n\r\n.leftImage {\r\n  position: absolute;\r\n  left: 0;\r\n}\r\n\r\n.rightImage {\r\n  position: absolute;\r\n  right: 0;\r\n  text-align: right;\r\n}\r\n\r\n.recent-post-item-post {\r\n  width: 50%;\r\n  height: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  padding: 20px 35px;\r\n}\r\n\r\n.recent-post-item-post h3 {\r\n  white-space: nowrap;\r\n  text-overflow: ellipsis;\r\n  overflow: hidden;\r\n}\r\n\r\n.post-meta {\r\n  font-size: 12px;\r\n  color: #797979;\r\n}\r\n\r\n.post-meta span:not(:last-child) {\r\n  margin-right: 10px;\r\n}\r\n\r\n.recent-post-desc {\r\n  font-size: 15px;\r\n  line-height: 1.7;\r\n  /* 超出4行就... */\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n  display: -webkit-box;\r\n  -webkit-line-clamp: 4;\r\n  -webkit-box-orient: vertical;\r\n}\r\n\r\n.leftImage .sort-label {\r\n  position: absolute;\r\n  bottom: 20px;\r\n}\r\n\r\n.rightImage .sort-label {\r\n  position: absolute;\r\n  bottom: 20px;\r\n  right: 35px;\r\n}\r\n\r\n.sort-label span {\r\n  padding: 3px 10px;\r\n  background-color: #EEEEEE;\r\n  border-radius: 3px;\r\n  font-size: 14px;\r\n  color: #797979;\r\n  transition: all 0.3s;\r\n  cursor: pointer;\r\n  user-select: none;\r\n}\r\n\r\n.sort-label span:hover {\r\n  background-color: orange;\r\n  color: white;\r\n}\r\n\r\n.pagination-wrap1 {\r\n  display: flex;\r\n  justify-content: center;\r\n  margin-top: 40px;\r\n  margin-left: -110px;\r\n}\r\n\r\n.aside-content {\r\n  /* width: 300px !important; */\r\n  user-select: none;\r\n  margin-top: 40px;\r\n  margin-right: 40px;\r\n  max-width: 300px;\r\n  float: right;\r\n  position: absolute;\r\n  padding: 0;\r\n  /* 设置距离顶部的距离 */\r\n  top: 5%;\r\n  right: 135px;\r\n  /* 可以设置一个合适的 z-index */\r\n  z-index: 1000;\r\n}\r\n\r\n.ais-SearchBox-input {\r\n  padding: 0 14px;\r\n  height: 30px;\r\n  width: calc(100% - 50px);\r\n  outline: 0;\r\n  border: 2px solid #39c5bb;\r\n  border-right: 0;\r\n  border-radius: 40px 0 0 40px;\r\n  color: #595A5A;\r\n  background: white;\r\n}\r\n\r\n.ais-SearchBox-submit {\r\n  height: 30px;\r\n  width: 50px;\r\n  border: 2px solid #39c5bb;\r\n  border-left: 0;\r\n  border-radius: 0 40px 40px 0;\r\n  background: white;\r\n  cursor: pointer;\r\n}\r\n\r\n.recommend-title {\r\n  margin-bottom: 5px;\r\n}\r\n\r\n.title:hover {\r\n  color: #2a60c9 !important;\r\n}\r\n\r\n.info {\r\n  /* 超出2行就... */\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n  display: -webkit-box;\r\n  -webkit-line-clamp: 2;\r\n  -webkit-box-orient: vertical;\r\n}\r\n</style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}