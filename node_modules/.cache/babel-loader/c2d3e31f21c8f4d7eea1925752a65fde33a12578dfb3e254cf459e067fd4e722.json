{"ast":null,"code":"class Publish {\n  constructor() {\n    this.id = 0;\n    this.listenList = {};\n    this.emit = this.emit;\n    this.on = this.on;\n    this.cancel = this.cancel;\n  }\n  // 发布\n  emit(name, data) {\n    if (!name) {\n      return new Error(\"发布消息,请先传入消息名称\");\n    }\n    if (this.listenList[name]) {\n      Object.values(this.listenList[name]).forEach(callback => {\n        callback(data);\n      });\n    }\n  }\n  // 监听\n  on(name, callback) {\n    if (!name) {\n      return new Error(\"监听消息,请先传入消息名称\");\n    }\n    let token = \"token-\" + this.id++;\n    if (this.listenList[name]) {\n      this.listenList[name][token] = callback || function () {};\n    } else {\n      this.listenList[name] = {};\n      this.listenList[name][token] = callback || function () {};\n    }\n    return token;\n  }\n  // 取消\n  cancel(name, token) {\n    if (!name) {\n      return new Error(\"取消监听消息,请先传入消息名称\");\n    }\n    if (this.listenList[name]) {\n      if (token) {\n        delete this.listenList[name][token];\n      } else {\n        this.listenList[name] = {};\n      }\n    }\n  }\n}\nconst $publish = new Publish();\nexport default $publish;","map":{"version":3,"names":["Publish","constructor","id","listenList","emit","on","cancel","name","data","Error","Object","values","forEach","callback","token","$publish"],"sources":["D:/Java_Projects/MYBLOG-备份/frontend/blog-frontend/node_modules/vue2-lay-editor/config/Publish.js"],"sourcesContent":["class Publish {\n  constructor() {\n    this.id = 0;\n    this.listenList = {};\n    this.emit = this.emit;\n    this.on = this.on;\n    this.cancel = this.cancel;\n  }\n  // 发布\n  emit(name, data) {\n    if (!name) {\n      return new Error(\"发布消息,请先传入消息名称\");\n    }\n    if (this.listenList[name]) {\n      Object.values(this.listenList[name]).forEach((callback) => {\n        callback(data);\n      });\n    }\n  }\n  // 监听\n  on(name, callback) {\n    if (!name) {\n      return new Error(\"监听消息,请先传入消息名称\");\n    }\n    let token = \"token-\" + this.id++;\n    if (this.listenList[name]) {\n      this.listenList[name][token] = callback || function () { };\n    } else {\n      this.listenList[name] = {};\n      this.listenList[name][token] = callback || function () { };\n    }\n    return token;\n  }\n  // 取消\n  cancel(name, token) {\n    if (!name) {\n      return new Error(\"取消监听消息,请先传入消息名称\");\n    }\n    if (this.listenList[name]) {\n      if (token) {\n        delete this.listenList[name][token];\n      } else {\n        this.listenList[name] = {};\n      }\n    }\n  }\n}\nconst $publish = new Publish();\nexport default $publish\n"],"mappings":"AAAA,MAAMA,OAAO,CAAC;EACZC,WAAWA,CAAA,EAAG;IACZ,IAAI,CAACC,EAAE,GAAG,CAAC;IACX,IAAI,CAACC,UAAU,GAAG,CAAC,CAAC;IACpB,IAAI,CAACC,IAAI,GAAG,IAAI,CAACA,IAAI;IACrB,IAAI,CAACC,EAAE,GAAG,IAAI,CAACA,EAAE;IACjB,IAAI,CAACC,MAAM,GAAG,IAAI,CAACA,MAAM;EAC3B;EACA;EACAF,IAAIA,CAACG,IAAI,EAAEC,IAAI,EAAE;IACf,IAAI,CAACD,IAAI,EAAE;MACT,OAAO,IAAIE,KAAK,CAAC,eAAe,CAAC;IACnC;IACA,IAAI,IAAI,CAACN,UAAU,CAACI,IAAI,CAAC,EAAE;MACzBG,MAAM,CAACC,MAAM,CAAC,IAAI,CAACR,UAAU,CAACI,IAAI,CAAC,CAAC,CAACK,OAAO,CAAEC,QAAQ,IAAK;QACzDA,QAAQ,CAACL,IAAI,CAAC;MAChB,CAAC,CAAC;IACJ;EACF;EACA;EACAH,EAAEA,CAACE,IAAI,EAAEM,QAAQ,EAAE;IACjB,IAAI,CAACN,IAAI,EAAE;MACT,OAAO,IAAIE,KAAK,CAAC,eAAe,CAAC;IACnC;IACA,IAAIK,KAAK,GAAG,QAAQ,GAAG,IAAI,CAACZ,EAAE,EAAE;IAChC,IAAI,IAAI,CAACC,UAAU,CAACI,IAAI,CAAC,EAAE;MACzB,IAAI,CAACJ,UAAU,CAACI,IAAI,CAAC,CAACO,KAAK,CAAC,GAAGD,QAAQ,IAAI,YAAY,CAAE,CAAC;IAC5D,CAAC,MAAM;MACL,IAAI,CAACV,UAAU,CAACI,IAAI,CAAC,GAAG,CAAC,CAAC;MAC1B,IAAI,CAACJ,UAAU,CAACI,IAAI,CAAC,CAACO,KAAK,CAAC,GAAGD,QAAQ,IAAI,YAAY,CAAE,CAAC;IAC5D;IACA,OAAOC,KAAK;EACd;EACA;EACAR,MAAMA,CAACC,IAAI,EAAEO,KAAK,EAAE;IAClB,IAAI,CAACP,IAAI,EAAE;MACT,OAAO,IAAIE,KAAK,CAAC,iBAAiB,CAAC;IACrC;IACA,IAAI,IAAI,CAACN,UAAU,CAACI,IAAI,CAAC,EAAE;MACzB,IAAIO,KAAK,EAAE;QACT,OAAO,IAAI,CAACX,UAAU,CAACI,IAAI,CAAC,CAACO,KAAK,CAAC;MACrC,CAAC,MAAM;QACL,IAAI,CAACX,UAAU,CAACI,IAAI,CAAC,GAAG,CAAC,CAAC;MAC5B;IACF;EACF;AACF;AACA,MAAMQ,QAAQ,GAAG,IAAIf,OAAO,CAAC,CAAC;AAC9B,eAAee,QAAQ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}