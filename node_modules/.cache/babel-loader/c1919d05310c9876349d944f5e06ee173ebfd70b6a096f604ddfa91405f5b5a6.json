{"ast":null,"code":"import dropdownSelect from \"../../components/dropdown-select.vue\";\nexport default {\n  name: \"WorkspaceJsonAlignMode\",\n  components: {\n    dropdownSelect\n  },\n  props: {\n    range: {\n      default() {\n        return {};\n      }\n    }\n  },\n  data() {\n    return {\n      tags: [{\n        color: \"#999\",\n        bg: \"#eff0f0\"\n      }, {\n        bg: \"#f0f9eb\",\n        color: \"#67c23a\"\n      }, {\n        bg: \"#fef0f0\",\n        color: \"#f56c6c\"\n      }, {\n        bg: \"#fdf6ec\",\n        color: \"#e6a23c\"\n      }, {\n        bg: \"#ecf5ff\",\n        color: \"#409eff\"\n      }, {\n        color: \"#ba9bf2\",\n        bg: \"rgba(217, 201, 248, 0.5)\"\n      }],\n      isOpen: false\n    };\n  },\n  mounted() {},\n  methods: {\n    execCommand(item) {\n      let text = window.getSelection().toString();\n      text = text || \"标签\";\n      let family = `system, -apple-system, BlinkMacSystemFont, PingFang SC, Segoe UI,\n          Microsoft YaHei, wenquanyi micro hei, Hiragino Sans GB, Hiragino Sans GB W3,\n          Roboto, Oxygen, Ubuntu, Cantarell, Fira Sans, Droid Sans, Helvetica Neue,\n          Helvetica, Arial, sans-serif`;\n      document.execCommand(\"insertHTML\", false, `<span style=\"background:${item.bg};color:${item.color};padding:2px 0px;border-radius:2px;font-size:1em;font-family:${family};word-break:break-all;\">&nbsp${text}&nbsp</span>`);\n      // document.execCommand(\"insertHTML\", false, \"<span>&nbsp</span>\");\n      // document.execCommand(\"insertText\", false, text);\n      // document.execCommand(\"insertHTML\", false, \"&nbsp\");\n    }\n  }\n};","map":{"version":3,"names":["dropdownSelect","name","components","props","range","default","data","tags","color","bg","isOpen","mounted","methods","execCommand","item","text","window","getSelection","toString","family","document"],"sources":["node_modules/vue2-lay-editor/edit-tools/components/textTag.vue"],"sourcesContent":["<template>\n  <div class=\"text-tag\" @mousedown.prevent>\n    <dropdown-select v-model=\"isOpen\">\n      <!-- 展示 -->\n      <div slot=\"title\">\n        <div class=\"head\">\n          <!-- 标签 -->\n          <i class=\"iconfont icon-biaoqian\"></i>\n        </div>\n      </div>\n      <!-- 操作 -->\n      <div class=\"dropdown-panel\">\n        <div\n          @click=\"execCommand(item)\"\n          v-for=\"(item, index) in tags\"\n          :key=\"index\"\n        >\n          <span :style=\"{ background: item.bg, color: item.color }\">XXX</span>\n        </div>\n      </div>\n    </dropdown-select>\n  </div>\n</template>\n\n<script>\nimport dropdownSelect from \"../../components/dropdown-select.vue\";\nexport default {\n  name: \"WorkspaceJsonAlignMode\",\n  components: {\n    dropdownSelect,\n  },\n  props: {\n    range: {\n      default() {\n        return {};\n      },\n    },\n  },\n  data() {\n    return {\n      tags: [\n        {\n          color: \"#999\",\n          bg: \"#eff0f0\",\n        },\n        {\n          bg: \"#f0f9eb\",\n          color: \"#67c23a\",\n        },\n        {\n          bg: \"#fef0f0\",\n          color: \"#f56c6c\",\n        },\n        {\n          bg: \"#fdf6ec\",\n          color: \"#e6a23c\",\n        },\n\n        {\n          bg: \"#ecf5ff\",\n          color: \"#409eff\",\n        },\n        {\n          color: \"#ba9bf2\",\n          bg: \"rgba(217, 201, 248, 0.5)\",\n        },\n      ],\n      isOpen: false,\n    };\n  },\n  mounted() {},\n  methods: {\n    execCommand(item) {\n      let text = window.getSelection().toString();\n      text = text || \"标签\";\n\n      let family = `system, -apple-system, BlinkMacSystemFont, PingFang SC, Segoe UI,\n          Microsoft YaHei, wenquanyi micro hei, Hiragino Sans GB, Hiragino Sans GB W3,\n          Roboto, Oxygen, Ubuntu, Cantarell, Fira Sans, Droid Sans, Helvetica Neue,\n          Helvetica, Arial, sans-serif`;\n\n      document.execCommand(\n        \"insertHTML\",\n        false,\n        `<span style=\"background:${item.bg};color:${item.color};padding:2px 0px;border-radius:2px;font-size:1em;font-family:${family};word-break:break-all;\">&nbsp${text}&nbsp</span>`\n      );\n      // document.execCommand(\"insertHTML\", false, \"<span>&nbsp</span>\");\n      // document.execCommand(\"insertText\", false, text);\n      // document.execCommand(\"insertHTML\", false, \"&nbsp\");\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.text-tag .head {\n  width: 30px;\n  height: 30px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.text-tag .head:hover {\n  background: #f5f5f5;\n}\n\n.text-tag .dropdown-panel {\n  min-width: 60px;\n  background: #fff;\n  box-shadow: 0 5px 20px 0 #e4e8eb;\n  min-width: 80px;\n}\n.text-tag .dropdown-panel div {\n  padding: 5px 10px;\n  cursor: pointer;\n}\n.text-tag .dropdown-panel div:hover {\n  background: #eee;\n}\n\n.text-tag .dropdown-panel div span {\n  display: inline-block;\n  width: 50px;\n  margin: 0;\n  padding: 3px 10px;\n  border-radius: 3px;\n}\n</style>\n"],"mappings":"AAyBA,OAAAA,cAAA;AACA;EACAC,IAAA;EACAC,UAAA;IACAF;EACA;EACAG,KAAA;IACAC,KAAA;MACAC,QAAA;QACA;MACA;IACA;EACA;EACAC,KAAA;IACA;MACAC,IAAA,GACA;QACAC,KAAA;QACAC,EAAA;MACA,GACA;QACAA,EAAA;QACAD,KAAA;MACA,GACA;QACAC,EAAA;QACAD,KAAA;MACA,GACA;QACAC,EAAA;QACAD,KAAA;MACA,GAEA;QACAC,EAAA;QACAD,KAAA;MACA,GACA;QACAA,KAAA;QACAC,EAAA;MACA,EACA;MACAC,MAAA;IACA;EACA;EACAC,QAAA;EACAC,OAAA;IACAC,YAAAC,IAAA;MACA,IAAAC,IAAA,GAAAC,MAAA,CAAAC,YAAA,GAAAC,QAAA;MACAH,IAAA,GAAAA,IAAA;MAEA,IAAAI,MAAA;AACA;AACA;AACA;MAEAC,QAAA,CAAAP,WAAA,CACA,cACA,OACA,2BAAAC,IAAA,CAAAL,EAAA,UAAAK,IAAA,CAAAN,KAAA,gEAAAW,MAAA,gCAAAJ,IAAA,cACA;MACA;MACA;MACA;IACA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}