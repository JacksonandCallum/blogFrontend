{"version":3,"file":"js/281.563364b3.js","mappings":"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","sources":["webpack://blog-frontend/./src/components/twoPoem.vue","webpack://blog-frontend/src/components/twoPoem.vue","webpack://blog-frontend/./src/components/twoPoem.vue?b606","webpack://blog-frontend/./src/components/twoPoem.vue?3911"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return (!_vm.$common.isEmpty(_vm.guShi.origin) || !_vm.$common.isEmpty(_vm.hitokoto.hitokoto))?_c('div',{staticClass:\"poem-container myCenter my-animation-hideToShow\"},[_vm._m(0),_c('div',{staticClass:\"poem-wrap\"},[(_vm.isShehui)?_c('div',[_c('span',[_vm._v(\"鬼畜全明星\")])]):_c('div',[_c('span',[_vm._v(_vm._s(_vm.isHitokoto ? _vm.hitokoto.from : _vm.guShi.origin))])]),_c('p',{staticClass:\"poem\"},[_vm._v(_vm._s(_vm.isHitokoto ? _vm.hitokoto.hitokoto : _vm.guShi.content))]),(\n      !_vm.isShehui &&\n      (!_vm.isHitokoto || (_vm.isHitokoto && !_vm.$common.isEmpty(_vm.hitokoto.from_who)))\n    )?_c('p',{staticClass:\"info\"},[_vm._v(\" \"+_vm._s(_vm.isHitokoto ? _vm.hitokoto.from_who : _vm.guShi.author)+\" \")]):_vm._e()])],1):_vm._e()\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('el-image',{staticClass:\"my-el-image poem-image\",staticStyle:{\"position\":\"absolute\",\"margin-top\":\"-50px\"},attrs:{\"lazy\":\"\",\"src\":_vm.$constant.random_image + new Date() + Math.floor(Math.random() * 10),\"fit\":\"cover\"}},[_c('div',{staticClass:\"image-slot\",attrs:{\"slot\":\"error\"},slot:\"error\"})])\n}]\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"poem-container myCenter my-animation-hideToShow\"\r\n    v-if=\"!$common.isEmpty(guShi.origin) || !$common.isEmpty(hitokoto.hitokoto)\">\r\n    <!-- 背景图片 -->\r\n    <el-image class=\"my-el-image poem-image\" style=\"position: absolute; margin-top: -50px\" v-once lazy :src=\"$constant.random_image + new Date() + Math.floor(Math.random() * 10)\r\n      \" fit=\"cover\">\r\n      <div slot=\"error\" class=\"image-slot\"></div>\r\n    </el-image>\r\n    <div class=\"poem-wrap\">\r\n      <div v-if=\"isShehui\"><span>鬼畜全明星</span></div>\r\n      <div v-else>\r\n        <span>{{ isHitokoto ? hitokoto.from : guShi.origin }}</span>\r\n      </div>\r\n      <p class=\"poem\">{{ isHitokoto ? hitokoto.hitokoto : guShi.content }}</p>\r\n      <p class=\"info\" v-if=\"\r\n        !isShehui &&\r\n        (!isHitokoto || (isHitokoto && !$common.isEmpty(hitokoto.from_who)))\r\n      \">\r\n        {{ isHitokoto ? hitokoto.from_who : guShi.author }}\r\n      </p>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  props: {\r\n    isHitokoto: {\r\n      type: Boolean,\r\n      default: true,\r\n    },\r\n    isShehui: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      guShi: {\r\n        content: \"...\",\r\n        origin: \"...\",\r\n        author: \"...\",\r\n        category: \"...\",\r\n      },\r\n      hitokoto: {\r\n        hitokoto: \"...\",\r\n        from: \"...\",\r\n        from_who: \"...\",\r\n      },\r\n    };\r\n  },\r\n  created() {\r\n    // 初始获取诗词数据\r\n    this.fetchPoemData();\r\n  },\r\n\r\n  mounted() {\r\n    // 每隔一段时间更新诗词数据(60秒变换一次)\r\n    setInterval(this.fetchPoemData, 60000);\r\n  },\r\n\r\n  methods: {\r\n    fetchPoemData() {\r\n      if (!this.isShehui) {\r\n        if (this.isHitokoto) {\r\n          this.getHitokoto();\r\n        } else {\r\n          this.getGuShi();\r\n        }\r\n      } else {\r\n        this.hitokoto.from = \"\";\r\n        this.hitokoto.from_who = \"\";\r\n        this.sendShehui();\r\n      }\r\n    },\r\n    sendShehui() {\r\n      let that = this;\r\n      let xhr = new XMLHttpRequest();\r\n      xhr.open(\"get\", this.$constant.shehui);\r\n      xhr.onreadystatechange = function () {\r\n        if (xhr.readyState === 4) {\r\n          let shehui = xhr.responseText;\r\n          that.hitokoto.hitokoto = shehui.substring(1, shehui.length - 1);\r\n        }\r\n      };\r\n      xhr.send();\r\n    },\r\n    getGuShi() {\r\n      let that = this;\r\n      let xhr = new XMLHttpRequest();\r\n      xhr.open(\"get\", this.$constant.jinrishici);\r\n      xhr.onreadystatechange = function () {\r\n        if (xhr.readyState === 4) {\r\n          that.guShi = JSON.parse(xhr.responseText);\r\n        }\r\n      };\r\n      xhr.send();\r\n    },\r\n    getHitokoto() {\r\n      let that = this;\r\n      let xhr = new XMLHttpRequest();\r\n      xhr.open(\"get\", this.$constant.hitokoto);\r\n      xhr.onreadystatechange = function () {\r\n        if (xhr.readyState === 4) {\r\n          that.hitokoto = JSON.parse(xhr.responseText);\r\n        }\r\n      };\r\n      xhr.send();\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style scoped>\r\n.poem-container {\r\n  padding: 90px 0 40px;\r\n  position: relative;\r\n}\r\n\r\n/* 以my-animation-开头的class */\r\n[class*=\"my-animation-\"] {\r\n  animation-duration: 1s;\r\n  animation-timing-function: ease-out;\r\n  animation-fill-mode: both;\r\n}\r\n\r\n.my-animation-hideToShow {\r\n  animation-name: hideToShow;\r\n}\r\n\r\n/* 遮罩 */\r\n.poem-image::before {\r\n  position: absolute;\r\n  width: 100%;\r\n  height: 100%;\r\n  background-color: rgba(0, 0, 0, 0.5);\r\n  content: \"\";\r\n}\r\n\r\n.poem-wrap {\r\n  border-radius: 10px;\r\n  z-index: 10;\r\n  text-align: center;\r\n  letter-spacing: 4px;\r\n  font-weight: 300;\r\n  width: 100%;\r\n  max-width: 800px;\r\n}\r\n\r\n.poem-wrap div span {\r\n  padding: 5px 10px;\r\n  color: white;\r\n  font-size: 2em;\r\n  border-radius: 5px;\r\n}\r\n\r\n.poem-wrap p {\r\n  width: 100%;\r\n  max-width: 800px;\r\n  color: white;\r\n}\r\n\r\n.poem-wrap p.poem {\r\n  margin: 40px auto;\r\n  font-size: 1.5em;\r\n}\r\n\r\n.poem-wrap p.info {\r\n  margin: 20px auto 40px;\r\n  font-size: 1.1em;\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./twoPoem.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./twoPoem.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./twoPoem.vue?vue&type=template&id=0bba3391&scoped=true\"\nimport script from \"./twoPoem.vue?vue&type=script&lang=js\"\nexport * from \"./twoPoem.vue?vue&type=script&lang=js\"\nimport style0 from \"./twoPoem.vue?vue&type=style&index=0&id=0bba3391&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0bba3391\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","$common","isEmpty","guShi","origin","hitokoto","_e","staticClass","_m","isShehui","_v","_s","isHitokoto","from","content","from_who","author","staticRenderFns","staticStyle","attrs","$constant","random_image","Date","Math","floor","random","slot","props","type","Boolean","default","data","category","created","fetchPoemData","mounted","setInterval","methods","sendShehui","getHitokoto","getGuShi","that","xhr","XMLHttpRequest","open","shehui","onreadystatechange","readyState","responseText","substring","length","send","jinrishici","JSON","parse","component"],"sourceRoot":""}