"use strict";(self["webpackChunkblog_frontend"]=self["webpackChunkblog_frontend"]||[]).push([[281],{29662:function(t,o,e){e.r(o),e.d(o,{default:function(){return u}});var i=function(){var t=this,o=t._self._c;return t.$common.isEmpty(t.guShi.origin)&&t.$common.isEmpty(t.hitokoto.hitokoto)?t._e():o("div",{staticClass:"poem-container myCenter my-animation-hideToShow"},[t._m(0),o("div",{staticClass:"poem-wrap"},[t.isShehui?o("div",[o("span",[t._v("鬼畜全明星")])]):o("div",[o("span",[t._v(t._s(t.isHitokoto?t.hitokoto.from:t.guShi.origin))])]),o("p",{staticClass:"poem"},[t._v(t._s(t.isHitokoto?t.hitokoto.hitokoto:t.guShi.content))]),t.isShehui||t.isHitokoto&&(!t.isHitokoto||t.$common.isEmpty(t.hitokoto.from_who))?t._e():o("p",{staticClass:"info"},[t._v(" "+t._s(t.isHitokoto?t.hitokoto.from_who:t.guShi.author)+" ")])])],1)},s=[function(){var t=this,o=t._self._c;return o("el-image",{staticClass:"my-el-image poem-image",staticStyle:{position:"absolute","margin-top":"-50px"},attrs:{lazy:"",src:t.$constant.random_image+new Date+Math.floor(10*Math.random()),fit:"cover"}},[o("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"})])}],n={props:{isHitokoto:{type:Boolean,default:!0},isShehui:{type:Boolean,default:!1}},data(){return{guShi:{content:"...",origin:"...",author:"...",category:"..."},hitokoto:{hitokoto:"...",from:"...",from_who:"..."}}},created(){this.fetchPoemData()},mounted(){setInterval(this.fetchPoemData,6e4)},methods:{fetchPoemData(){this.isShehui?(this.hitokoto.from="",this.hitokoto.from_who="",this.sendShehui()):this.isHitokoto?this.getHitokoto():this.getGuShi()},sendShehui(){let t=this,o=new XMLHttpRequest;o.open("get",this.$constant.shehui),o.onreadystatechange=function(){if(4===o.readyState){let e=o.responseText;t.hitokoto.hitokoto=e.substring(1,e.length-1)}},o.send()},getGuShi(){let t=this,o=new XMLHttpRequest;o.open("get",this.$constant.jinrishici),o.onreadystatechange=function(){4===o.readyState&&(t.guShi=JSON.parse(o.responseText))},o.send()},getHitokoto(){let t=this,o=new XMLHttpRequest;o.open("get",this.$constant.hitokoto),o.onreadystatechange=function(){4===o.readyState&&(t.hitokoto=JSON.parse(o.responseText))},o.send()}}},a=n,h=e(81656),r=(0,h.A)(a,i,s,!1,null,"0bba3391",null),u=r.exports}}]);
//# sourceMappingURL=281.563364b3.js.map